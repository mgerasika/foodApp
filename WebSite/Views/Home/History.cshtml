@using angularjs
@using FoodApp.Client
@using FoodApp.Common
@inherits System.Web.Mvc.WebViewPage

@{
    string orders = ajs.field((ngHistoryController o) => o.ngHistoryItems);
    string historyItem = "historyItem";
    string foodId = historyItem + "." + ajs.field((ngHistoryEntry o) => o.FoodId);
}


<h3>Історія замовлень</h3>
<div>

    <div ng-controller="@ajs.getClass((ngHistoryController o) => o)">

        <div ng-repeat="@historyItem in @orders">


            <i>
                {{@ajs.method((ngHistoryController o) => o.getFoodItem(null)) (@foodId).@ajs.field((ngFoodItem o) => o.FoodId)}}
            </i><b>{{@historyItem .@ajs.field((ngHistoryEntry o) => o.Count)}}</b>
            <u>{{@historyItem .@ajs.field((ngHistoryEntry o) => o.Date)}}</u>
        </div>
    </div>
</div>
